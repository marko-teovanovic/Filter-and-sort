<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic generated table</title>
</head>
<body>
    <table id="dynamic_table">
        <thead>
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>E-mail</th>
                <th>Gender</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <input type = button class = "b" value = "Add new row" onclick = newRow()>  
    <input type = button class = "c" value = "Sort" onclick = sort()>  
</body>

<script>
    const tableData = [{
        "id": 1,
        "first_name": "Boony",
        "last_name": "Ratledge",
        "email": "bratledge0@mysql.com",
        "gender": "Male"
    }, {
        "id": 2,
        "first_name": "Gilberto",
        "last_name": "Bresson",
        "email": "gbresson1@ebay.com",
        "gender": "Male"
    }, {
        "id": 3,
        "first_name": "Prissie",
        "last_name": "Suermeier",
        "email": "psuermeier2@army.mil",
        "gender": "Non-binary"
    }];

    function generateTable(tableData) {
        const tableBody = document.getElementById('dynamic_table').getElementsByTagName('tbody')[0];
        tableData.forEach(rowData => {
            let row = document.createElement('tr');

            Object.values(rowData).forEach(text => {
                let cell = document.createElement('td');
                let textNode = document.createTextNode(text);
                cell.appendChild(textNode);
                row.appendChild(cell);
            });

            tableBody.appendChild(row);
        });
    }

    generateTable(tableData);

    function newRow() {
        const dynamic_table = document.getElementById("dynamic_table")
        const rows = dynamic_table.rows.lengt;
        const newRows = dynamic_table.insertRow(rows);
        
        const cell1 = newRows.insertCell(0);
        const cell2 = newRows.insertCell(1);
        const cell3 = newRows.insertCell(2);
        const cell4 = newRows.insertCell(3);
        const cell5 = newRows.insertCell(4);
        
        const id = document.createElement("input");
        const first_name = document.createElement("input");
        const last_name = document.createElement("input");
        const email = document.createElement("input");
        const gender = document.createElement("input");

        id.type = "number";
        first_name.type = "text";
        last_name.type = "text";
        email.type = "text";
        gender.type = "text";

        cell1.appendChild(id);
        cell2.appendChild(first_name);
        cell3.appendChild(last_name);
        cell4.appendChild(email);
        cell5.appendChild(gender);

        }

        function sort() {
            const tableBody = document.getElementById('dynamic_table').getElementsByTagName('tbody')[0];
            const rows = Array.from(tableBody.rows);

            rows.sort(function (a, b) {
                const nameA = a.cells[1].innerText.toUpperCase();
                const nameB = b.cells[1].innerText.toUpperCase();
                if (nameA < nameB) {
                    return -1;
                } else if (nameA > nameB) {
                    return 1;
                } else {
                    return 0;
                }
            });

            rows.forEach(row => tableBody.removeChild(row));

            rows.forEach(row => tableBody.appendChild(row));
        }

        generateTable(tableData);
</script>

</html>